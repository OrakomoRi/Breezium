if(void 0===window.BreeziumSelect){class t{constructor(t,e,i=null){this.container=document.createElement("div"),this.container.classList.add("breezium-select"),this.options=this._normalizeOptions(t),this.callback="function"==typeof e?e:()=>{},this.selected=null,this.optionsContainer=null,this._dropDirection="down",this._onDocClick=t=>{this.container.contains(t.target)||this.close()},this._onRecalc=()=>{this.isOpen()&&this._applyDirection()};const s=i&&"object"==typeof i?this._optByAny(i.value??i.code):("string"==typeof i?this._optByAny(i):null)||this.options[0]||{name:"Select Option",value:""};this.defaultOption=s,this._init()}_normalizeOptions(t){return(Array.isArray(t)?t:[]).map((t=>({name:String(t?.name??""),value:String(t?.value??t?.code??""),disabled:!!t?.disabled})))}_optByAny(t){const e=null!=t?String(t):"";return this.options.find((t=>t.value===e))||null}_init(){this.selected=document.createElement("div"),this.selected.classList.add("breezium-selected"),this.selected.textContent=this.defaultOption.name,this.selected.dataset.value=this.defaultOption.value,this.selected.setAttribute("role","button"),this.selected.setAttribute("tabindex","0"),this.selected.setAttribute("aria-haspopup","listbox"),this.selected.setAttribute("aria-expanded","false"),this.optionsContainer=document.createElement("div"),this.optionsContainer.classList.add("breezium-options"),this.optionsContainer.setAttribute("role","listbox"),this._renderOptions(),this.selected.addEventListener("click",(t=>{t.stopPropagation(),this.toggle()})),this.selected.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.toggle()),"Escape"===t.key&&this.close()}))}_renderOptions(){this.optionsContainer.innerHTML="";const t=this.getValue();for(const e of this.options){const i=document.createElement("div");i.classList.add("breezium-option"),i.setAttribute("role","option"),i.textContent=e.name,i.dataset.value=e.value,e.disabled&&i.classList.add("is-disabled"),t===e.value&&i.classList.add("is-selected"),i.addEventListener("click",(t=>{t.stopPropagation(),e.disabled||this._selectInternal(e,!0)})),this.optionsContainer.appendChild(i)}}_applyDirection(){const t=this.container.getBoundingClientRect(),e=Math.max(0,window.innerHeight-t.bottom),i=Math.max(0,t.top)>e;this._dropDirection=i?"up":"down",this.container.classList.toggle("drop-up","up"===this._dropDirection),this.container.classList.toggle("drop-down","down"===this._dropDirection)}open(){this._applyDirection(),this.container.classList.add("show"),this.selected.setAttribute("aria-expanded","true"),document.addEventListener("click",this._onDocClick,{capture:!0}),window.addEventListener("resize",this._onRecalc,{passive:!0}),window.addEventListener("scroll",this._onRecalc,{passive:!0})}close(){this.isOpen()&&(this.container.classList.remove("show"),this.selected.setAttribute("aria-expanded","false"),document.removeEventListener("click",this._onDocClick,{capture:!0}),window.removeEventListener("resize",this._onRecalc,{passive:!0}),window.removeEventListener("scroll",this._onRecalc,{passive:!0}))}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return this.container.classList.contains("show")}updateOptions(t,e=null){this.options=this._normalizeOptions(t);const i=null===e?this.getValue():String(e);this._renderOptions();const s=this._optByAny(i)||this.options[0]||{name:"Select Option",value:""};this.selected.textContent=s.name,this.selected.dataset.value=s.value}setValue(t,{trigger:e=!0}={}){const i=this._optByAny(t);if(!i||i.disabled)return;const s=this.getValue();this.selected.textContent=i.name,this.selected.dataset.value=i.value,this.optionsContainer.querySelectorAll(".breezium-option").forEach((t=>{t.classList.toggle("is-selected",t.dataset.value===i.value)})),e&&s!==i.value&&this.callback(i.value)}getValue(){return this.selected?.dataset?.value??""}getLabel(){return this.selected?.textContent??""}_selectInternal(t,e=!0){this.setValue(t.value,{trigger:e}),this.close()}render(t,e=null,i=!1){this.container.appendChild(this.selected),this.container.appendChild(this.optionsContainer),e?i&&e.nextSibling?t.insertBefore(this.container,e.nextSibling):t.insertBefore(this.container,e):t.appendChild(this.container)}destroy(){this.close(),this.container.remove()}}window.BreeziumSelect=t}